# Java 方法重载和方法重写的区别

## 核心区别

```
┌─────────────────────────────────────────────────────────────┐
│              重载 (Overload) vs 重写 (Override)              │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│   重载 (Overload):                                          │
│   ├── 同一个类中                                            │
│   ├── 方法名相同，参数列表不同                              │
│   ├── 编译时多态                                            │
│   └── 与返回值、访问修饰符无关                              │
│                                                             │
│   重写 (Override):                                          │
│   ├── 子类与父类之间                                        │
│   ├── 方法签名完全相同                                      │
│   ├── 运行时多态                                            │
│   └── 遵循"两同两小一大"规则                               │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

## 方法重载 (Overload)

```java
public class Calculator {
    
    // 重载: 同名方法，不同参数
    public int add(int a, int b) {
        return a + b;
    }
    
    // 参数数量不同
    public int add(int a, int b, int c) {
        return a + b + c;
    }
    
    // 参数类型不同
    public double add(double a, double b) {
        return a + b;
    }
    
    // 参数顺序不同
    public String add(String s, int n) {
        return s + n;
    }
    
    public String add(int n, String s) {
        return n + s;
    }
}
```

```
┌─────────────────────────────────────────────────────────────┐
│                    重载规则                                  │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│   ✅ 必须满足:                                               │
│   • 方法名相同                                              │
│   • 参数列表不同 (数量/类型/顺序)                           │
│                                                             │
│   ❌ 不能仅靠这些区分:                                       │
│   • 返回值类型                                              │
│   • 访问修饰符                                              │
│   • 异常声明                                                │
│                                                             │
│   // ❌ 编译错误: 不能仅靠返回值区分                         │
│   public int getValue() { }                                 │
│   public double getValue() { }  // 重复定义!                │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

## 方法重写 (Override)

```java
class Animal {
    public void speak() {
        System.out.println("Animal speaks");
    }
    
    protected Animal create() {
        return new Animal();
    }
}

class Dog extends Animal {
    
    @Override  // 推荐加上，编译器会检查
    public void speak() {
        System.out.println("Dog barks");
    }
    
    // 返回值可以是子类型 (协变返回类型)
    @Override
    protected Dog create() {
        return new Dog();
    }
}
```

```
┌─────────────────────────────────────────────────────────────┐
│                    重写规则: "两同两小一大"                  │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│   两同:                                                      │
│   1. 方法名相同                                              │
│   2. 参数列表相同                                            │
│                                                             │
│   两小:                                                      │
│   3. 返回值类型 ≤ 父类 (可以是子类型)                       │
│   4. 抛出异常 ≤ 父类 (不能抛更多)                           │
│                                                             │
│   一大:                                                      │
│   5. 访问权限 ≥ 父类 (不能更严格)                           │
│                                                             │
│   例:                                                        │
│   父类: protected void method() throws IOException          │
│   子类: public void method() throws FileNotFoundException ✅│
│   子类: private void method()  ❌ 权限更严格                 │
│   子类: void method() throws Exception  ❌ 异常更大          │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

## 不能被重写的方法

```
┌─────────────────────────────────────────────────────────────┐
│                    不能被重写的方法                          │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│   1. final 方法                                              │
│      └── final 明确禁止重写                                 │
│                                                             │
│   2. static 方法                                             │
│      └── 静态方法属于类，不属于对象，不是多态               │
│      └── 子类可以定义同名静态方法，但这是"隐藏"不是重写     │
│                                                             │
│   3. private 方法                                            │
│      └── 子类不可见，无法重写                               │
│                                                             │
│   4. 构造方法                                                │
│      └── 构造方法不是普通方法，不能继承也不能重写           │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

## 对比总结

```
┌─────────────────────────────────────────────────────────────┐
│                    对比总结                                  │
├──────────────────┬──────────────────┬───────────────────────┤
│   维度           │   重载 Overload  │   重写 Override       │
├──────────────────┼──────────────────┼───────────────────────┤
│   发生位置       │ 同一个类中       │ 子类与父类之间        │
│   方法名         │ 相同             │ 相同                  │
│   参数列表       │ 必须不同         │ 必须相同              │
│   返回值         │ 可以不同         │ 相同或子类型          │
│   访问权限       │ 无限制           │ 不能更严格            │
│   异常           │ 无限制           │ 不能抛更多            │
│   绑定时机       │ 编译时(静态)     │ 运行时(动态)          │
│   多态类型       │ 编译时多态       │ 运行时多态            │
│   @Override      │ 不需要           │ 推荐使用              │
└──────────────────┴──────────────────┴───────────────────────┘
```

## 面试回答

### 30秒版本

> **重载 (Overload)**：同一类中，方法名相同、参数列表不同，与返回值无关，编译时多态。**重写 (Override)**：子类覆盖父类方法，遵循"两同两小一大"——方法名和参数相同，返回值和异常不能更大，访问权限不能更严格，运行时多态。final、static、private 方法不能被重写。

### 1分钟版本

> **重载 (Overload)**：
> - 同一个类中
> - 方法名相同，参数列表不同
> - 与返回值、访问权限无关
> - 编译时确定调用哪个方法
>
> **重写 (Override)**：
> - 子类与父类之间
> - 方法签名完全相同
> - "两同两小一大"规则：
>   - 方法名、参数相同
>   - 返回值 ≤ 父类
>   - 异常 ≤ 父类
>   - 访问权限 ≥ 父类
> - 运行时确定调用哪个方法
>
> **不能重写**：
> - final、static、private 方法
> - 构造方法
>
> **@Override 注解**：推荐使用，编译器检查

---

*关联文档：[java-polymorphism.md](java-polymorphism.md) | [java-inner-class.md](java-inner-class.md)*
