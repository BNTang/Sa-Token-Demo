# Java 中有哪些集合类？请简单介绍

## 集合框架概览

```
┌─────────────────────────────────────────────────────────────┐
│                    Java 集合框架                             │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│                      Iterable                               │
│                          │                                  │
│                      Collection                             │
│                    ┌────┼────┬────────┐                    │
│                    │    │    │        │                    │
│                  List  Set  Queue   Deque                   │
│                                                             │
│   ─────────────────────────────────────────────────────     │
│                                                             │
│                        Map                                  │
│                          │                                  │
│            ┌─────────┬───┴───┬─────────┐                   │
│         HashMap  TreeMap  LinkedHashMap  ...                │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

## 集合类分类

```
┌─────────────────────────────────────────────────────────────┐
│                    Collection 体系                           │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│   List (有序可重复)                                          │
│   ├── ArrayList      动态数组，查询快，增删慢               │
│   ├── LinkedList     双向链表，增删快，查询慢               │
│   ├── Vector         线程安全(过时)，用ArrayList+同步替代    │
│   └── Stack          栈(过时)，用Deque替代                  │
│                                                             │
│   Set (无序不重复)                                           │
│   ├── HashSet        哈希表实现，无序                       │
│   ├── LinkedHashSet  哈希+链表，保持插入顺序                │
│   └── TreeSet        红黑树实现，有序                       │
│                                                             │
│   Queue (队列)                                               │
│   ├── LinkedList     双端队列实现                           │
│   ├── PriorityQueue  优先队列(堆实现)                       │
│   ├── ArrayDeque     双端队列(数组实现，推荐)               │
│   └── BlockingQueue  阻塞队列                               │
│       ├── ArrayBlockingQueue                                │
│       ├── LinkedBlockingQueue                               │
│       └── PriorityBlockingQueue                             │
│                                                             │
└─────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│                    Map 体系                                  │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│   Map (键值对)                                               │
│   ├── HashMap        哈希表，无序，允许null                 │
│   ├── LinkedHashMap  哈希+链表，保持插入/访问顺序           │
│   ├── TreeMap        红黑树，按Key排序                      │
│   ├── Hashtable      线程安全(过时)                         │
│   ├── ConcurrentHashMap  高并发线程安全                     │
│   └── WeakHashMap    弱引用Key，可被GC回收                  │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

## 常用集合对比

```
┌─────────────────────────────────────────────────────────────┐
│                    List 对比                                 │
├───────────────┬──────────────┬──────────────┬───────────────┤
│   特性        │  ArrayList   │  LinkedList  │  Vector       │
├───────────────┼──────────────┼──────────────┼───────────────┤
│   底层结构    │  动态数组    │  双向链表    │  动态数组     │
│   查询速度    │  O(1)        │  O(n)        │  O(1)         │
│   增删速度    │  O(n)        │  O(1)        │  O(n)         │
│   线程安全    │  否          │  否          │  是           │
│   扩容        │  1.5倍       │  无          │  2倍          │
└───────────────┴──────────────┴──────────────┴───────────────┘

┌─────────────────────────────────────────────────────────────┐
│                    Map 对比                                  │
├───────────────┬──────────────┬──────────────┬───────────────┤
│   特性        │  HashMap     │  TreeMap     │  LinkedHashMap│
├───────────────┼──────────────┼──────────────┼───────────────┤
│   底层结构    │  数组+链表+树│  红黑树      │  HashMap+链表 │
│   顺序        │  无序        │  Key排序     │  插入/访问顺序│
│   时间复杂度  │  O(1)        │  O(log n)    │  O(1)         │
│   null Key    │  允许        │  不允许      │  允许         │
└───────────────┴──────────────┴──────────────┴───────────────┘

┌─────────────────────────────────────────────────────────────┐
│                    Set 对比                                  │
├───────────────┬──────────────┬──────────────┬───────────────┤
│   特性        │  HashSet     │  TreeSet     │  LinkedHashSet│
├───────────────┼──────────────┼──────────────┼───────────────┤
│   底层实现    │  HashMap     │  TreeMap     │  LinkedHashMap│
│   顺序        │  无序        │  排序        │  插入顺序     │
│   时间复杂度  │  O(1)        │  O(log n)    │  O(1)         │
│   null        │  允许1个     │  不允许      │  允许1个      │
└───────────────┴──────────────┴──────────────┴───────────────┘
```

## 线程安全集合

```
┌─────────────────────────────────────────────────────────────┐
│                    线程安全集合                              │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│   传统同步 (不推荐):                                         │
│   • Vector                                                  │
│   • Hashtable                                               │
│   • Collections.synchronizedXxx()                           │
│                                                             │
│   并发集合 (推荐):                                           │
│   • ConcurrentHashMap     高并发Map                         │
│   • CopyOnWriteArrayList  读多写少List                      │
│   • CopyOnWriteArraySet   读多写少Set                       │
│   • ConcurrentLinkedQueue 无锁队列                          │
│   • BlockingQueue 系列    生产者消费者                      │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

## 选择指南

```
┌─────────────────────────────────────────────────────────────┐
│                    选择指南                                  │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│   需要键值对?                                                │
│   ├── 是 → Map                                              │
│   │   ├── 高并发 → ConcurrentHashMap                        │
│   │   ├── 需要排序 → TreeMap                                │
│   │   ├── 需要顺序 → LinkedHashMap                          │
│   │   └── 其他 → HashMap                                    │
│   │                                                         │
│   └── 否 → Collection                                       │
│       ├── 需要唯一性 → Set                                  │
│       │   ├── 需要排序 → TreeSet                            │
│       │   └── 其他 → HashSet                                │
│       │                                                     │
│       ├── 需要队列 → Queue                                  │
│       │   ├── 优先级 → PriorityQueue                        │
│       │   ├── 栈/双端 → ArrayDeque                          │
│       │   └── 阻塞 → BlockingQueue                          │
│       │                                                     │
│       └── 需要有序可重复 → List                             │
│           ├── 频繁随机访问 → ArrayList                      │
│           ├── 频繁增删 → LinkedList                         │
│           └── 高并发 → CopyOnWriteArrayList                 │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

## 面试回答

### 30秒版本

> Java 集合分 **Collection** 和 **Map** 两大体系。Collection 包括：**List**（有序可重复，ArrayList/LinkedList）、**Set**（无序不重复，HashSet/TreeSet）、**Queue**（队列，ArrayDeque/PriorityQueue）。Map 是键值对（HashMap/TreeMap/ConcurrentHashMap）。线程安全用 ConcurrentHashMap、CopyOnWriteArrayList。

### 1分钟版本

> **List**：有序可重复
> - ArrayList：数组，查询快
> - LinkedList：链表，增删快
>
> **Set**：无序不重复
> - HashSet：哈希表，无序
> - TreeSet：红黑树，排序
>
> **Queue**：队列
> - ArrayDeque：双端队列
> - PriorityQueue：优先队列
>
> **Map**：键值对
> - HashMap：无序，O(1)
> - TreeMap：排序，O(log n)
> - LinkedHashMap：保持顺序
>
> **线程安全**：
> - ConcurrentHashMap
> - CopyOnWriteArrayList

---

*关联文档：[arraylist-vs-linkedlist.md](arraylist-vs-linkedlist.md) | [hashmap-principle.md](hashmap-principle.md)*
